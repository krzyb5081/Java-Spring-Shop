<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
<head>
<meta charset="UTF-8" />
<title>Insert title here</title>
<style type="text/css">
	th {
		background-color: "yellow";
		padding: 15px;
		text-align: left;
	}
	td {
		background-color: "gray";
		padding: 15px;
		text-align: left;
	}
	.mainTable {
		width: 100%;
	}
	.productTable {
		width: 80%;
</style>
</head>
<body>

	<table class="mainTable" th:each="orderSet : ${orderEntrySet}" th:with="userName=${userMap.get(orderSet.getKey().userId).userName}">
		<tr>
			<th>Customer name</th>
			<th>Order status</th>
		</tr>
		<tr>
			<td> <span th:text="${userName}"></span> </td>
			<td> <span th:text="${orderSet.getKey().status}"></span> </td>
		</tr>
		<tr><td>
			<table class="productTable">
				<tr>
					<th>Product name</th>
					<th>Description</th>
					<th>Price</th>
					<th>Quantity</th>
				</tr>
				<tr th:each="orderProduct : ${orderSet.getValue()}" th:with="product=${productMap.get(orderProduct.productId)}">
					<td> <span th:text="${product.name}"></span> </td>
					<td> <span th:text="${product.description}"></span> </td>
					<td> <span th:text="${product.price}"></span> </td>
					<td> <span th:text="${orderProduct.quantity}"></span> </td>
				</tr>
			</table>
		</td></tr>
		
	</table>
	
</body>
</html>